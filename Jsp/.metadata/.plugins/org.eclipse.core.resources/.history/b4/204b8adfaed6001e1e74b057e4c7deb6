package ch12;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;

import ch09.DBConnectionMgr;

public class MemberMgr {
	private DBConnectionMgr pool;
	
	public MemberMgr() {
		pool = DBConnectionMgr.getInstance();
		
	}
	
	//로그인: 성공은 true 리턴
	public boolean loginChk(String id, String pwd) {
	    Connection con = null;
	    PreparedStatement pstmt = null;
	    ResultSet rs = null;
		String sql = null;
	    boolean success = false;
	    try {
	        con = pool.getConnection();
	        sql = "select id,pwd from tblmember";
	        pstmt = con.prepareStatement(sql);
	        pstmt.setString(1, id);  
	        pstmt.setString(2, pwd);  
	        success = true;
	    } catch (Exception e) {
	        e.printStackTrace();
	    } finally {
	        if (con != null) {
	            pool.freeConnection(con,pstmt);
	        }
	    }
	    return success;
	}
}